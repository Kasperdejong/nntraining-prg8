(function(){const L=document.createElement("link").relList;if(L&&L.supports&&L.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))C(m);new MutationObserver(m=>{for(const S of m)if(S.type==="childList")for(const W of S.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&C(W)}).observe(document,{childList:!0,subtree:!0});function H(m){const S={};return m.integrity&&(S.integrity=m.integrity),m.referrerPolicy&&(S.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?S.credentials="include":m.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function C(m){if(m.ep)return;m.ep=!0;const S=H(m);fetch(m.href,S)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={},Rr;function Un(){return Rr||(Rr=1,(function(){var j;function L(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var H=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,r){return t==Array.prototype||t==Object.prototype||(t[e]=r.value),t};function C(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ct=="object"&&Ct];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var m=C(this);function S(t,e){if(e)t:{var r=m;t=t.split(".");for(var n=0;n<t.length-1;n++){var i=t[n];if(!(i in r))break t;r=r[i]}t=t[t.length-1],n=r[t],e=e(n),e!=n&&e!=null&&H(r,t,{configurable:!0,writable:!0,value:e})}}S("Symbol",function(t){function e(u){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new r(n+(u||"")+"_"+i++,u)}function r(u,o){this.h=u,H(this,"description",{configurable:!0,writable:!0,value:o})}if(t)return t;r.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return e}),S("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<e.length;r++){var n=m[e[r]];typeof n=="function"&&typeof n.prototype[t]!="function"&&H(n.prototype,t,{configurable:!0,writable:!0,value:function(){return W(L(this))}})}return t});function W(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function P(t){var e=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:L(t)}}function rt(t){if(!(t instanceof Array)){t=P(t);for(var e,r=[];!(e=t.next()).done;)r.push(e.value);t=r}return t}var Q=typeof Object.assign=="function"?Object.assign:function(t,e){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};S("Object.assign",function(t){return t||Q});var pt=typeof Object.create=="function"?Object.create:function(t){function e(){}return e.prototype=t,new e},vt;if(typeof Object.setPrototypeOf=="function")vt=Object.setPrototypeOf;else{var X;t:{var lt={a:!0},c={};try{c.__proto__=lt,X=c.a;break t}catch{}X=!1}vt=X?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var g=vt;function y(t,e){if(t.prototype=pt(e.prototype),t.prototype.constructor=t,g)g(t,e);else for(var r in e)if(r!="prototype")if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(e,r);n&&Object.defineProperty(t,r,n)}else t[r]=e[r];t.ya=e.prototype}function w(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function R(t){if(t.m)throw new TypeError("Generator is already running");t.m=!0}w.prototype.u=function(t){this.i=t};function D(t,e){t.l={ma:e,na:!0},t.h=t.s||t.v}w.prototype.return=function(t){this.l={return:t},this.h=this.v};function F(t,e,r){return t.h=r,{value:e}}function J(t){this.h=new w,this.i=t}function ie(t,e){R(t.h);var r=t.h.j;return r?dt(t,"return"in r?r.return:function(n){return{value:n,done:!0}},e,t.h.return):(t.h.return(e),K(t))}function dt(t,e,r,n){try{var i=e.call(t.h.j,r);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.h.m=!1,i;var u=i.value}catch(o){return t.h.j=null,D(t.h,o),K(t)}return t.h.j=null,n.call(t.h,u),K(t)}function K(t){for(;t.h.h;)try{var e=t.i(t.h);if(e)return t.h.m=!1,{value:e.value,done:!1}}catch(r){t.h.i=void 0,D(t.h,r)}if(t.h.m=!1,t.h.l){if(e=t.h.l,t.h.l=null,e.na)throw e.ma;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function yt(t){this.next=function(e){return R(t.h),t.h.j?e=dt(t,t.h.j.next,e,t.h.u):(t.h.u(e),e=K(t)),e},this.throw=function(e){return R(t.h),t.h.j?e=dt(t,t.h.j.throw,e,t.h.u):(D(t.h,e),e=K(t)),e},this.return=function(e){return ie(t,e)},this[Symbol.iterator]=function(){return this}}function f(t){function e(n){return t.next(n)}function r(n){return t.throw(n)}return new Promise(function(n,i){function u(o){o.done?n(o.value):Promise.resolve(o.value).then(e,r).then(u,i)}u(t.next())})}function a(t){return f(new yt(new J(t)))}S("Promise",function(t){function e(o){this.i=0,this.j=void 0,this.h=[],this.u=!1;var s=this.l();try{o(s.resolve,s.reject)}catch(l){s.reject(l)}}function r(){this.h=null}function n(o){return o instanceof e?o:new e(function(s){s(o)})}if(t)return t;r.prototype.i=function(o){if(this.h==null){this.h=[];var s=this;this.j(function(){s.m()})}this.h.push(o)};var i=m.setTimeout;r.prototype.j=function(o){i(o,0)},r.prototype.m=function(){for(;this.h&&this.h.length;){var o=this.h;this.h=[];for(var s=0;s<o.length;++s){var l=o[s];o[s]=null;try{l()}catch(h){this.l(h)}}}this.h=null},r.prototype.l=function(o){this.j(function(){throw o})},e.prototype.l=function(){function o(h){return function(v){l||(l=!0,h.call(s,v))}}var s=this,l=!1;return{resolve:o(this.I),reject:o(this.m)}},e.prototype.I=function(o){if(o===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(o instanceof e)this.L(o);else{t:switch(typeof o){case"object":var s=o!=null;break t;case"function":s=!0;break t;default:s=!1}s?this.F(o):this.s(o)}},e.prototype.F=function(o){var s=void 0;try{s=o.then}catch(l){this.m(l);return}typeof s=="function"?this.M(s,o):this.s(o)},e.prototype.m=function(o){this.v(2,o)},e.prototype.s=function(o){this.v(1,o)},e.prototype.v=function(o,s){if(this.i!=0)throw Error("Cannot settle("+o+", "+s+"): Promise already settled in state"+this.i);this.i=o,this.j=s,this.i===2&&this.K(),this.H()},e.prototype.K=function(){var o=this;i(function(){if(o.D()){var s=m.console;typeof s<"u"&&s.error(o.j)}},1)},e.prototype.D=function(){if(this.u)return!1;var o=m.CustomEvent,s=m.Event,l=m.dispatchEvent;return typeof l>"u"?!0:(typeof o=="function"?o=new o("unhandledrejection",{cancelable:!0}):typeof s=="function"?o=new s("unhandledrejection",{cancelable:!0}):(o=m.document.createEvent("CustomEvent"),o.initCustomEvent("unhandledrejection",!1,!0,o)),o.promise=this,o.reason=this.j,l(o))},e.prototype.H=function(){if(this.h!=null){for(var o=0;o<this.h.length;++o)u.i(this.h[o]);this.h=null}};var u=new r;return e.prototype.L=function(o){var s=this.l();o.T(s.resolve,s.reject)},e.prototype.M=function(o,s){var l=this.l();try{o.call(s,l.resolve,l.reject)}catch(h){l.reject(h)}},e.prototype.then=function(o,s){function l(A,d){return typeof A=="function"?function(O){try{h(A(O))}catch(T){v(T)}}:d}var h,v,E=new e(function(A,d){h=A,v=d});return this.T(l(o,h),l(s,v)),E},e.prototype.catch=function(o){return this.then(void 0,o)},e.prototype.T=function(o,s){function l(){switch(h.i){case 1:o(h.j);break;case 2:s(h.j);break;default:throw Error("Unexpected state: "+h.i)}}var h=this;this.h==null?u.i(l):this.h.push(l),this.u=!0},e.resolve=n,e.reject=function(o){return new e(function(s,l){l(o)})},e.race=function(o){return new e(function(s,l){for(var h=P(o),v=h.next();!v.done;v=h.next())n(v.value).T(s,l)})},e.all=function(o){var s=P(o),l=s.next();return l.done?n([]):new e(function(h,v){function E(O){return function(T){A[O]=T,d--,d==0&&h(A)}}var A=[],d=0;do A.push(void 0),d++,n(l.value).T(E(A.length-1),v),l=s.next();while(!l.done)})},e});function _(t,e){t instanceof String&&(t+="");var r=0,n=!1,i={next:function(){if(!n&&r<t.length){var u=r++;return{value:e(u,t[u]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}S("Array.prototype.keys",function(t){return t||function(){return _(this,function(e){return e})}}),S("Array.prototype.fill",function(t){return t||function(e,r,n){var i=this.length||0;for(0>r&&(r=Math.max(0,i+r)),(n==null||n>i)&&(n=i),n=Number(n),0>n&&(n=Math.max(0,i+n)),r=Number(r||0);r<n;r++)this[r]=e;return this}});function x(t){return t||Array.prototype.fill}S("Int8Array.prototype.fill",x),S("Uint8Array.prototype.fill",x),S("Uint8ClampedArray.prototype.fill",x),S("Int16Array.prototype.fill",x),S("Uint16Array.prototype.fill",x),S("Int32Array.prototype.fill",x),S("Uint32Array.prototype.fill",x),S("Float32Array.prototype.fill",x),S("Float64Array.prototype.fill",x),S("Object.is",function(t){return t||function(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}}),S("Array.prototype.includes",function(t){return t||function(e,r){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(r=r||0,0>r&&(r=Math.max(r+i,0));r<i;r++){var u=n[r];if(u===e||Object.is(u,e))return!0}return!1}}),S("String.prototype.includes",function(t){return t||function(e,r){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(e,r||0)!==-1}});var N=this||self;function z(t,e){t=t.split(".");var r=N;t[0]in r||typeof r.execScript>"u"||r.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||e===void 0?r[n]&&r[n]!==Object.prototype[n]?r=r[n]:r=r[n]={}:r[n]=e}function p(t){var e;t:{if((e=N.navigator)&&(e=e.userAgent))break t;e=""}return e.indexOf(t)!=-1}var b=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var r=t.length,n=Array(r),i=typeof t=="string"?t.split(""):t,u=0;u<r;u++)u in i&&(n[u]=e.call(void 0,i[u],u,t));return n},M={},B=null;function et(t){var e=t.length,r=3*e/4;r%3?r=Math.floor(r):"=.".indexOf(t[e-1])!=-1&&(r="=.".indexOf(t[e-2])!=-1?r-2:r-1);var n=new Uint8Array(r),i=0;return Pt(t,function(u){n[i++]=u}),i!==r?n.subarray(0,i):n}function Pt(t,e){function r(l){for(;n<t.length;){var h=t.charAt(n++),v=B[h];if(v!=null)return v;if(!/^[\s\xa0]*$/.test(h))throw Error("Unknown base64 encoding at char: "+h)}return l}nt();for(var n=0;;){var i=r(-1),u=r(0),o=r(64),s=r(64);if(s===64&&i===-1)break;e(i<<2|u>>4),o!=64&&(e(u<<4&240|o>>2),s!=64&&e(o<<6&192|s))}}function nt(){if(!B){B={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=t.concat(e[r].split(""));M[r]=n;for(var i=0;i<n.length;i++){var u=n[i];B[u]===void 0&&(B[u]=i)}}}}var ot=typeof Uint8Array<"u",Et=!(p("Trident")||p("MSIE"))&&typeof N.btoa=="function";function Ot(t){if(!Et){var e;e===void 0&&(e=0),nt(),e=M[e];for(var r=Array(Math.floor(t.length/3)),n=e[64]||"",i=0,u=0;i<t.length-2;i+=3){var o=t[i],s=t[i+1],l=t[i+2],h=e[o>>2];o=e[(o&3)<<4|s>>4],s=e[(s&15)<<2|l>>6],l=e[l&63],r[u++]=h+o+s+l}switch(h=0,l=n,t.length-i){case 2:h=t[i+1],l=e[(h&15)<<2]||n;case 1:t=t[i],r[u]=e[t>>2]+e[(t&3)<<4|h>>4]+l+n}return r.join("")}for(e="";10240<t.length;)e+=String.fromCharCode.apply(null,t.subarray(0,10240)),t=t.subarray(10240);return e+=String.fromCharCode.apply(null,t),btoa(e)}var Me=RegExp("[-_.]","g");function Wr(t){switch(t){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function Ue(t){if(!Et)return et(t);Me.test(t)&&(t=t.replace(Me,Wr)),t=atob(t);for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var Re;function oe(){return Re||(Re=new Uint8Array(0))}var Mt={},Gr=typeof Uint8Array.prototype.slice=="function",V=0,Z=0;function Le(t){var e=0>t;t=Math.abs(t);var r=t>>>0;t=Math.floor((t-r)/4294967296),e&&(r=P(Ne(r,t)),e=r.next().value,t=r.next().value,r=e),V=r>>>0,Z=t>>>0}var zr=typeof BigInt=="function";function Ne(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function De(t,e){this.i=t>>>0,this.h=e>>>0}function ke(t){if(!t)return Be||(Be=new De(0,0));if(!/^-?\d+$/.test(t))return null;if(16>t.length)Le(Number(t));else if(zr)t=BigInt(t),V=Number(t&BigInt(4294967295))>>>0,Z=Number(t>>BigInt(32)&BigInt(4294967295));else{var e=+(t[0]==="-");Z=V=0;for(var r=t.length,n=e,i=(r-e)%6+e;i<=r;n=i,i+=6)n=Number(t.slice(n,i)),Z*=1e6,V=1e6*V+n,4294967296<=V&&(Z+=V/4294967296|0,V%=4294967296);e&&(e=P(Ne(V,Z)),t=e.next().value,e=e.next().value,V=t,Z=e)}return new De(V,Z)}var Be;function Ie(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function ue(){return Error("Failed to read varint, encoding is invalid.")}function He(t,e){return Error("Tried to read past the end of the data "+e+" > "+t)}function wt(){throw Error("Invalid UTF8")}function We(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}var Gt=void 0,se,Vr=typeof TextDecoder<"u",Ge,Xr=typeof TextEncoder<"u",ze;function Ve(t){if(t!==Mt)throw Error("illegal external caller")}function Ut(t,e){if(Ve(e),this.V=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}function le(){return ze||(ze=new Ut(null,Mt))}function Xe(t){Ve(Mt);var e=t.V;return e=e==null||ot&&e!=null&&e instanceof Uint8Array?e:typeof e=="string"?Ue(e):null,e==null?e:t.V=e}function Yr(t){if(typeof t=="string")return{buffer:Ue(t),C:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Uint8Array)return{buffer:t,C:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Ut)return{buffer:Xe(t)||oe(),C:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Ye(t,e){this.i=null,this.m=!1,this.h=this.j=this.l=0,fe(this,t,e)}function fe(t,e,r){r=r===void 0?{}:r,t.S=r.S===void 0?!1:r.S,e&&(e=Yr(e),t.i=e.buffer,t.m=e.C,t.l=0,t.j=t.i.length,t.h=t.l)}Ye.prototype.reset=function(){this.h=this.l};function At(t,e){if(t.h=e,e>t.j)throw He(t.j,e)}function Rt(t){var e=t.i,r=t.h,n=e[r++],i=n&127;if(n&128&&(n=e[r++],i|=(n&127)<<7,n&128&&(n=e[r++],i|=(n&127)<<14,n&128&&(n=e[r++],i|=(n&127)<<21,n&128&&(n=e[r++],i|=n<<28,n&128&&e[r++]&128&&e[r++]&128&&e[r++]&128&&e[r++]&128&&e[r++]&128)))))throw ue();return At(t,r),i}function $e(t,e){if(0>e)throw Error("Tried to read a negative byte length: "+e);var r=t.h,n=r+e;if(n>t.j)throw He(e,t.j-r);return t.h=n,r}var Ke=[];function ae(){this.h=[]}ae.prototype.length=function(){return this.h.length},ae.prototype.end=function(){var t=this.h;return this.h=[],t};function Ze(t,e,r){for(;0<r||127<e;)t.h.push(e&127|128),e=(e>>>7|r<<25)>>>0,r>>>=7;t.h.push(e)}function jt(t,e){for(;127<e;)t.h.push(e&127|128),e>>>=7;t.h.push(e)}function ce(t,e){if(Ke.length){var r=Ke.pop();fe(r,t,e),t=r}else t=new Ye(t,e);this.h=t,this.j=this.h.h,this.i=this.l=-1,this.setOptions(e)}ce.prototype.setOptions=function(t){t=t===void 0?{}:t,this.ca=t.ca===void 0?!1:t.ca},ce.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function Qe(t){var e=t.h;if(e.h==e.j)return!1;t.j=t.h.h;var r=Rt(t.h)>>>0;if(e=r>>>3,r&=7,!(0<=r&&5>=r))throw Ie(r,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");return t.l=e,t.i=r,!0}function zt(t){switch(t.i){case 0:if(t.i!=0)zt(t);else t:{t=t.h;for(var e=t.h,r=e+10,n=t.i;e<r;)if((n[e++]&128)===0){At(t,e);break t}throw ue()}break;case 1:t=t.h,At(t,t.h+8);break;case 2:t.i!=2?zt(t):(e=Rt(t.h)>>>0,t=t.h,At(t,t.h+e));break;case 5:t=t.h,At(t,t.h+4);break;case 3:e=t.l;do{if(!Qe(t))throw Error("Unmatched start-group tag: stream EOF");if(t.i==4){if(t.l!=e)throw Error("Unmatched end-group tag");break}zt(t)}while(!0);break;default:throw Ie(t.i,t.j)}}var Vt=[];function $r(){this.j=[],this.i=0,this.h=new ae}function St(t,e){e.length!==0&&(t.j.push(e),t.i+=e.length)}function Kr(t,e){if(e=e.R){St(t,t.h.end());for(var r=0;r<e.length;r++)St(t,Xe(e[r])||oe())}}var mt=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function xt(t,e){return mt?t[mt]|=e:t.A!==void 0?t.A|=e:(Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}}),e)}function Je(t,e){mt?t[mt]&&(t[mt]&=~e):t.A!==void 0&&(t.A&=~e)}function G(t){var e;return mt?e=t[mt]:e=t.A,e??0}function ft(t,e){mt?t[mt]=e:t.A!==void 0?t.A=e:Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}})}function he(t){return xt(t,1),t}function Zr(t,e){ft(e,(t|0)&-51)}function Xt(t,e){ft(e,(t|18)&-41)}var pe={};function Yt(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}var Lt,qe=[];ft(qe,23),Lt=Object.freeze(qe);function ve(t){if(G(t.o)&2)throw Error("Cannot mutate an immutable Message")}function de(t){var e=t.length;(e=e?t[e-1]:void 0)&&Yt(e)?e.g=1:(e={},t.push((e.g=1,e)))}function tr(t){var e=t.i+t.G;return t.B||(t.B=t.o[e]={})}function ut(t,e){return e===-1?null:e>=t.i?t.B?t.B[e]:void 0:t.o[e+t.G]}function at(t,e,r,n){ve(t),Nt(t,e,r,n)}function Nt(t,e,r,n){t.j&&(t.j=void 0),e>=t.i||n?tr(t)[e]=r:(t.o[e+t.G]=r,(t=t.B)&&e in t&&delete t[e])}function ye(t,e,r,n){var i=ut(t,e);Array.isArray(i)||(i=Lt);var u=G(i);if(u&1||he(i),n)u&2||xt(i,2),r&1||Object.freeze(i);else{n=!(r&2);var o=u&2;r&1||!o?n&&u&16&&!o&&Je(i,16):(i=he(Array.prototype.slice.call(i)),Nt(t,e,i))}return i}function me(t,e){var r=ut(t,e),n=r==null?r:typeof r=="number"||r==="NaN"||r==="Infinity"||r==="-Infinity"?Number(r):void 0;return n!=null&&n!==r&&Nt(t,e,n),n}function er(t,e,r,n,i){t.h||(t.h={});var u=t.h[r],o=ye(t,r,3,i);if(!u){var s=o;u=[];var l=!!(G(t.o)&16);o=!!(G(s)&2);var h=s;!i&&o&&(s=Array.prototype.slice.call(s));for(var v=o,E=0;E<s.length;E++){var A=s[E],d=e,O=!1;if(O=O===void 0?!1:O,A=Array.isArray(A)?new d(A):O?new d:void 0,A!==void 0){d=A.o;var T=O=G(d);o&&(T|=2),l&&(T|=16),T!=O&&ft(d,T),d=T,v=v||!!(2&d),u.push(A)}}return t.h[r]=u,l=G(s),e=l|33,e=v?e&-9:e|8,l!=e&&(v=s,Object.isFrozen(v)&&(v=Array.prototype.slice.call(v)),ft(v,e),s=v),h!==s&&Nt(t,r,s),(i||n&&o)&&xt(u,2),n&&Object.freeze(u),u}return i||(i=Object.isFrozen(u),n&&!i?Object.freeze(u):!n&&i&&(u=Array.prototype.slice.call(u),t.h[r]=u)),u}function $t(t,e,r){var n=!!(G(t.o)&2);if(e=er(t,e,r,n,n),t=ye(t,r,3,n),!(n||G(t)&8)){for(n=0;n<e.length;n++){if(r=e[n],G(r.o)&2){var i=sr(r,!1);i.j=r}else i=r;r!==i&&(e[n]=i,t[n]=i.o)}xt(t,8)}return e}function ct(t,e,r){if(r!=null&&typeof r!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof r+": "+r);at(t,e,r)}function rr(t,e,r,n,i){ve(t);var u=er(t,r,e,!1,!1);return r=n??new r,t=ye(t,e,2,!1),i!=null?(u.splice(i,0,r),t.splice(i,0,r.o)):(u.push(r),t.push(r.o)),r.C()&&Je(t,8),r}function Kt(t,e){return t??e}function ht(t,e,r){return r=r===void 0?0:r,Kt(me(t,e),r)}var Zt;function Qr(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t)if(Array.isArray(t)){if((G(t)&128)!==0)return t=Array.prototype.slice.call(t),de(t),t}else{if(ot&&t!=null&&t instanceof Uint8Array)return Ot(t);if(t instanceof Ut){var e=t.V;return e==null?"":typeof e=="string"?e:t.V=Ot(e)}}}return t}function nr(t,e,r,n){if(t!=null){if(Array.isArray(t))t=ge(t,e,r,n!==void 0);else if(Yt(t)){var i={},u;for(u in t)i[u]=nr(t[u],e,r,n);t=i}else t=e(t,n);return t}}function ge(t,e,r,n){var i=G(t);n=n?!!(i&16):void 0,t=Array.prototype.slice.call(t);for(var u=0;u<t.length;u++)t[u]=nr(t[u],e,r,n);return r(i,t),t}function Jr(t){return t.ja===pe?t.toJSON():Qr(t)}function qr(t,e){t&128&&de(e)}function ir(t,e,r){if(r=r===void 0?Xt:r,t!=null){if(ot&&t instanceof Uint8Array)return t.length?new Ut(new Uint8Array(t),Mt):le();if(Array.isArray(t)){var n=G(t);return n&2?t:e&&!(n&32)&&(n&16||n===0)?(ft(t,n|2),t):(t=ge(t,ir,n&4?Xt:r,!0),e=G(t),e&4&&e&2&&Object.freeze(t),t)}return t.ja===pe?ur(t):t}}function or(t,e,r,n,i,u,o){if(t=t.h&&t.h[r]){if(n=G(t),n&2?n=t:(u=b(t,ur),Xt(n,u),Object.freeze(u),n=u),ve(e),o=n==null?Lt:he([]),n!=null){for(u=!!n.length,t=0;t<n.length;t++){var s=n[t];u=u&&!(G(s.o)&2),o[t]=s.o}u=(u?8:0)|1,t=G(o),(t&u)!==u&&(Object.isFrozen(o)&&(o=Array.prototype.slice.call(o)),ft(o,t|u)),e.h||(e.h={}),e.h[r]=n}else e.h&&(e.h[r]=void 0);Nt(e,r,o,i)}else at(e,r,ir(n,u,o),i)}function ur(t){return G(t.o)&2||(t=sr(t,!0),xt(t.o,2)),t}function sr(t,e){var r=t.o,n=[];xt(n,16);var i=t.constructor.h;if(i&&n.push(i),i=t.B,i){n.length=r.length,n.fill(void 0,n.length,r.length);var u={};n[n.length-1]=u}(G(r)&128)!==0&&de(n),e=e||t.C()?Xt:Zr,u=t.constructor,Zt=n,n=new u(n),Zt=void 0,t.R&&(n.R=t.R.slice()),u=!!(G(r)&16);for(var o=i?r.length-1:r.length,s=0;s<o;s++)or(t,n,s-t.G,r[s],!1,u,e);if(i)for(var l in i)or(t,n,+l,i[l],!0,u,e);return n}function q(t,e,r){t==null&&(t=Zt),Zt=void 0;var n=this.constructor.i||0,i=0<n,u=this.constructor.h,o=!1;if(t==null){t=u?[u]:[];var s=48,l=!0;i&&(n=0,s|=128),ft(t,s)}else{if(!Array.isArray(t)||u&&u!==t[0])throw Error();var h=s=xt(t,0);if((l=(16&h)!==0)&&((o=(32&h)!==0)||(h|=32)),i){if(128&h)n=0;else if(0<t.length){var v=t[t.length-1];if(Yt(v)&&"g"in v){n=0,h|=128,delete v.g;var E=!0,A;for(A in v){E=!1;break}E&&t.pop()}}}else if(128&h)throw Error();s!==h&&ft(t,h)}this.G=(u?0:-1)-n,this.h=void 0,this.o=t;t:{if(u=this.o.length,n=u-1,u&&(u=this.o[n],Yt(u))){this.B=u,this.i=n-this.G;break t}e!==void 0&&-1<e?(this.i=Math.max(e,n+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(r){e=l&&!o&&!0,i=this.i;var d;for(l=0;l<r.length;l++)o=r[l],o<i?(o+=this.G,(n=t[o])?lr(n,e):t[o]=Lt):(d||(d=tr(this)),(n=d[o])?lr(n,e):d[o]=Lt)}}q.prototype.toJSON=function(){return ge(this.o,Jr,qr)},q.prototype.C=function(){return!!(G(this.o)&2)};function lr(t,e){if(Array.isArray(t)){var r=G(t),n=1;!e||r&2||(n|=16),(r&n)!==n&&ft(t,r|n)}}q.prototype.ja=pe,q.prototype.toString=function(){return this.o.toString()};function fr(t,e,r){if(r){var n={},i;for(i in r){var u=r[i],o=u.qa;o||(n.J=u.wa||u.oa.W,u.ia?(n.aa=vr(u.ia),o=function(s){return function(l,h,v){return s.J(l,h,v,s.aa)}}(n)):u.ka?(n.Z=dr(u.da.P,u.ka),o=function(s){return function(l,h,v){return s.J(l,h,v,s.Z)}}(n)):o=n.J,u.qa=o),o(e,t,u.da),n={J:n.J,aa:n.aa,Z:n.Z}}}Kr(e,t)}var Qt=Symbol();function ar(t,e,r){return t[Qt]||(t[Qt]=function(n,i){return e(n,i,r)})}function cr(t){var e=t[Qt];if(!e){var r=Ae(t);e=function(n,i){return yr(n,i,r)},t[Qt]=e}return e}function tn(t){var e=t.ia;if(e)return cr(e);if(e=t.va)return ar(t.da.P,e,t.ka)}function en(t){var e=tn(t),r=t.da,n=t.oa.U;return e?function(i,u){return n(i,u,r,e)}:function(i,u){return n(i,u,r)}}function hr(t,e){var r=t[e];return typeof r=="function"&&r.length===0&&(r=r(),t[e]=r),Array.isArray(r)&&(kt in r||Dt in r||0<r.length&&typeof r[0]=="function")?r:void 0}function pr(t,e,r,n,i,u){e.P=t[0];var o=1;if(t.length>o&&typeof t[o]!="number"){var s=t[o++];r(e,s)}for(;o<t.length;){r=t[o++];for(var l=o+1;l<t.length&&typeof t[l]!="number";)l++;switch(s=t[o++],l-=o,l){case 0:n(e,r,s);break;case 1:(l=hr(t,o))?(o++,i(e,r,s,l)):n(e,r,s,t[o++]);break;case 2:l=o++,l=hr(t,l),i(e,r,s,l,t[o++]);break;case 3:u(e,r,s,t[o++],t[o++],t[o++]);break;case 4:u(e,r,s,t[o++],t[o++],t[o++],t[o++]);break;default:throw Error("unexpected number of binary field arguments: "+l)}}return e}var Jt=Symbol();function vr(t){var e=t[Jt];if(!e){var r=we(t);e=function(n,i){return mr(n,i,r)},t[Jt]=e}return e}function dr(t,e){var r=t[Jt];return r||(r=function(n,i){return fr(n,i,e)},t[Jt]=r),r}var Dt=Symbol();function rn(t,e){t.push(e)}function nn(t,e,r){t.push(e,r.W)}function on(t,e,r,n){var i=vr(n),u=we(n).P,o=r.W;t.push(e,function(s,l,h){return o(s,l,h,u,i)})}function un(t,e,r,n,i,u){var o=dr(n,u),s=r.W;t.push(e,function(l,h,v){return s(l,h,v,n,o)})}function we(t){var e=t[Dt];return e||(e=pr(t,t[Dt]=[],rn,nn,on,un),kt in t&&Dt in t&&(t.length=0),e)}var kt=Symbol();function sn(t,e){t[0]=e}function ln(t,e,r,n){var i=r.U;t[e]=n?function(u,o,s){return i(u,o,s,n)}:i}function fn(t,e,r,n,i){var u=r.U,o=cr(n),s=Ae(n).P;t[e]=function(l,h,v){return u(l,h,v,s,o,i)}}function an(t,e,r,n,i,u,o){var s=r.U,l=ar(n,i,u);t[e]=function(h,v,E){return s(h,v,E,n,l,o)}}function Ae(t){var e=t[kt];return e||(e=pr(t,t[kt]={},sn,ln,fn,an),kt in t&&Dt in t&&(t.length=0),e)}function yr(t,e,r){for(;Qe(e)&&e.i!=4;){var n=e.l,i=r[n];if(!i){var u=r[0];u&&(u=u[n])&&(i=r[n]=en(u))}if(!i||!i(e,t,n)){i=e,n=t,u=i.j,zt(i);var o=i;if(!o.ca){if(i=o.h.h-u,o.h.h=u,o=o.h,i==0)i=le();else{if(u=$e(o,i),o.S&&o.m)i=o.i.subarray(u,u+i);else{o=o.i;var s=u;i=u+i,i=s===i?oe():Gr?o.slice(s,i):new Uint8Array(o.subarray(s,i))}i=i.length==0?le():new Ut(i,Mt)}(u=n.R)?u.push(i):n.R=[i]}}}return t}function mr(t,e,r){for(var n=r.length,i=n%2==1,u=i?1:0;u<n;u+=2)(0,r[u+1])(e,t,r[u]);fr(t,e,i?r[0]:void 0)}function Bt(t,e){return{U:t,W:e}}var st=Bt(function(t,e,r){if(t.i!==5)return!1;t=t.h;var n=t.i,i=t.h,u=n[i],o=n[i+1],s=n[i+2];return n=n[i+3],At(t,t.h+4),o=(u<<0|o<<8|s<<16|n<<24)>>>0,t=2*(o>>31)+1,u=o>>>23&255,o&=8388607,at(e,r,u==255?o?NaN:1/0*t:u==0?t*Math.pow(2,-149)*o:t*Math.pow(2,u-150)*(o+Math.pow(2,23))),!0},function(t,e,r){if(e=me(e,r),e!=null){jt(t.h,8*r+5),t=t.h;var n=+e;n===0?0<1/n?V=Z=0:(Z=0,V=2147483648):isNaN(n)?(Z=0,V=2147483647):(n=(r=0>n?-2147483648:0)?-n:n,34028234663852886e22<n?(Z=0,V=(r|2139095040)>>>0):11754943508222875e-54>n?(n=Math.round(n/Math.pow(2,-149)),Z=0,V=(r|n)>>>0):(e=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-e),n=Math.round(8388608*n),16777216<=n&&++e,Z=0,V=(r|e+127<<23|n&8388607)>>>0)),r=V,t.h.push(r>>>0&255),t.h.push(r>>>8&255),t.h.push(r>>>16&255),t.h.push(r>>>24&255)}}),cn=Bt(function(t,e,r){if(t.i!==0)return!1;var n=t.h,i=0,u=t=0,o=n.i,s=n.h;do{var l=o[s++];i|=(l&127)<<u,u+=7}while(32>u&&l&128);for(32<u&&(t|=(l&127)>>4),u=3;32>u&&l&128;u+=7)l=o[s++],t|=(l&127)<<u;if(At(n,s),128>l)n=i>>>0,l=t>>>0,(t=l&2147483648)&&(n=~n+1>>>0,l=~l>>>0,n==0&&(l=l+1>>>0)),n=4294967296*l+(n>>>0);else throw ue();return at(e,r,t?-n:n),!0},function(t,e,r){e=ut(e,r),e!=null&&(typeof e=="string"&&ke(e),e!=null&&(jt(t.h,8*r),typeof e=="number"?(t=t.h,Le(e),Ze(t,V,Z)):(r=ke(e),Ze(t.h,r.i,r.h))))}),hn=Bt(function(t,e,r){return t.i!==0?!1:(at(e,r,Rt(t.h)),!0)},function(t,e,r){if(e=ut(e,r),e!=null&&e!=null)if(jt(t.h,8*r),t=t.h,r=e,0<=r)jt(t,r);else{for(e=0;9>e;e++)t.h.push(r&127|128),r>>=7;t.h.push(1)}}),gr=Bt(function(t,e,r){if(t.i!==2)return!1;var n=Rt(t.h)>>>0;t=t.h;var i=$e(t,n);if(t=t.i,Vr){var u=t,o;(o=se)||(o=se=new TextDecoder("utf-8",{fatal:!0})),t=i+n,u=i===0&&t===u.length?u:u.subarray(i,t);try{var s=o.decode(u)}catch(E){if(Gt===void 0){try{o.decode(new Uint8Array([128]))}catch{}try{o.decode(new Uint8Array([97])),Gt=!0}catch{Gt=!1}}throw!Gt&&(se=void 0),E}}else{s=i,n=s+n,i=[];for(var l=null,h,v;s<n;)h=t[s++],128>h?i.push(h):224>h?s>=n?wt():(v=t[s++],194>h||(v&192)!==128?(s--,wt()):i.push((h&31)<<6|v&63)):240>h?s>=n-1?wt():(v=t[s++],(v&192)!==128||h===224&&160>v||h===237&&160<=v||((u=t[s++])&192)!==128?(s--,wt()):i.push((h&15)<<12|(v&63)<<6|u&63)):244>=h?s>=n-2?wt():(v=t[s++],(v&192)!==128||(h<<28)+(v-144)>>30!==0||((u=t[s++])&192)!==128||((o=t[s++])&192)!==128?(s--,wt()):(h=(h&7)<<18|(v&63)<<12|(u&63)<<6|o&63,h-=65536,i.push((h>>10&1023)+55296,(h&1023)+56320))):wt(),8192<=i.length&&(l=We(l,i),i.length=0);s=We(l,i)}return at(e,r,s),!0},function(t,e,r){if(e=ut(e,r),e!=null){var n=!1;if(n=n===void 0?!1:n,Xr){if(n&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(Ge||(Ge=new TextEncoder)).encode(e)}else{for(var i=0,u=new Uint8Array(3*e.length),o=0;o<e.length;o++){var s=e.charCodeAt(o);if(128>s)u[i++]=s;else{if(2048>s)u[i++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&o<e.length){var l=e.charCodeAt(++o);if(56320<=l&&57343>=l){s=1024*(s-55296)+l-56320+65536,u[i++]=s>>18|240,u[i++]=s>>12&63|128,u[i++]=s>>6&63|128,u[i++]=s&63|128;continue}else o--}if(n)throw Error("Found an unpaired surrogate");s=65533}u[i++]=s>>12|224,u[i++]=s>>6&63|128}u[i++]=s&63|128}}e=i===u.length?u:u.subarray(0,i)}jt(t.h,8*r+2),jt(t.h,e.length),St(t,t.h.end()),St(t,e)}}),wr=Bt(function(t,e,r,n,i){if(t.i!==2)return!1;e=rr(e,r,n),r=t.h.j,n=Rt(t.h)>>>0;var u=t.h.h+n,o=u-r;if(0>=o&&(t.h.j=u,i(e,t,void 0,void 0,void 0),o=u-t.h.h),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(n+" bytes, instead read "+(n-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return t.h.h=u,t.h.j=r,!0},function(t,e,r,n,i){if(e=$t(e,n,r),e!=null)for(n=0;n<e.length;n++){var u=t;jt(u.h,8*r+2);var o=u.h.end();St(u,o),o.push(u.i),u=o,i(e[n],t),o=t;var s=u.pop();for(s=o.i+o.h.length()-s;127<s;)u.push(s&127|128),s>>>=7,o.i++;u.push(s),o.i++}});function je(t){return function(e,r){t:{if(Vt.length){var n=Vt.pop();n.setOptions(r),fe(n.h,e,r),e=n}else e=new ce(e,r);try{var i=Ae(t),u=yr(new i.P,e,i);break t}finally{i=e.h,i.i=null,i.m=!1,i.l=0,i.j=0,i.h=0,i.S=!1,e.l=-1,e.i=-1,100>Vt.length&&Vt.push(e)}u=void 0}return u}}function xe(t){return function(){var e=new $r;mr(this,e,we(t)),St(e,e.h.end());for(var r=new Uint8Array(e.i),n=e.j,i=n.length,u=0,o=0;o<i;o++){var s=n[o];r.set(s,u),u+=s.length}return e.j=[r],r}}function _t(t){q.call(this,t)}y(_t,q);var Ar=[_t,1,hn,2,st,3,gr,4,gr];_t.prototype.l=xe(Ar);function be(t){q.call(this,t,-1,pn)}y(be,q),be.prototype.addClassification=function(t,e){return rr(this,1,_t,t,e),this};var pn=[1],jr=je([be,1,wr,Ar]);function Ft(t){q.call(this,t)}y(Ft,q);var xr=[Ft,1,st,2,st,3,st,4,st,5,st];Ft.prototype.l=xe(xr);function br(t){q.call(this,t,-1,vn)}y(br,q);var vn=[1],Er=je([br,1,wr,xr]);function qt(t){q.call(this,t)}y(qt,q);var Or=[qt,1,st,2,st,3,st,4,st,5,st,6,cn],dn=je(Or);qt.prototype.l=xe(Or);function Sr(t,e,r){if(r=t.createShader(r===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(r));return r}function _r(t){return $t(t,_t,1).map(function(e){var r=ut(e,1);return{index:r??0,score:ht(e,2),label:ut(e,3)!=null?Kt(ut(e,3),""):void 0,displayName:ut(e,4)!=null?Kt(ut(e,4),""):void 0}})}function Fr(t){return{x:ht(t,1),y:ht(t,2),z:ht(t,3),visibility:me(t,4)!=null?ht(t,4):void 0}}function Tr(t){return t.map(function(e){return $t(Er(e),Ft,1).map(Fr)})}function Ee(t,e){this.i=t,this.h=e,this.m=0}function Cr(t,e,r){return yn(t,e),typeof t.h.canvas.transferToImageBitmap=="function"?Promise.resolve(t.h.canvas.transferToImageBitmap()):r?Promise.resolve(t.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.h.canvas):(t.j===void 0&&(t.j=document.createElement("canvas")),new Promise(function(n){t.j.height=t.h.canvas.height,t.j.width=t.h.canvas.width,t.j.getContext("2d",{}).drawImage(t.h.canvas,0,0,t.h.canvas.width,t.h.canvas.height),n(t.j)}))}function yn(t,e){var r=t.h;if(t.s===void 0){var n=Sr(r,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),i=Sr(r,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),u=r.createProgram();if(r.attachShader(u,n),r.attachShader(u,i),r.linkProgram(u),!r.getProgramParameter(u,r.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+r.getProgramInfoLog(u));n=t.s=u,r.useProgram(n),i=r.getUniformLocation(n,"sampler0"),t.l={O:r.getAttribLocation(n,"aVertex"),N:r.getAttribLocation(n,"aTex"),xa:i},t.v=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,t.v),r.enableVertexAttribArray(t.l.O),r.vertexAttribPointer(t.l.O,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),t.u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,t.u),r.enableVertexAttribArray(t.l.N),r.vertexAttribPointer(t.l.N,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.uniform1i(i,0)}n=t.l,r.useProgram(t.s),r.canvas.width=e.width,r.canvas.height=e.height,r.viewport(0,0,e.width,e.height),r.activeTexture(r.TEXTURE0),t.i.bindTexture2d(e.glName),r.enableVertexAttribArray(n.O),r.bindBuffer(r.ARRAY_BUFFER,t.v),r.vertexAttribPointer(n.O,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,t.u),r.vertexAttribPointer(n.N,2,r.FLOAT,!1,0,0),r.bindFramebuffer(r.DRAW_FRAMEBUFFER?r.DRAW_FRAMEBUFFER:r.FRAMEBUFFER,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.colorMask(!0,!0,!0,!0),r.drawArrays(r.TRIANGLE_FAN,0,4),r.disableVertexAttribArray(n.O),r.disableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,null),t.i.bindTexture2d(0)}function mn(t){this.h=t}var gn=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function wn(t,e){return e+t}function Pr(t,e){window[t]=e}function An(t){var e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise(function(r){e.addEventListener("load",function(){r()},!1),e.addEventListener("error",function(){r()},!1),document.body.appendChild(e)})}function jn(){return a(function(t){switch(t.h){case 1:return t.s=2,F(t,WebAssembly.instantiate(gn),4);case 4:t.h=3,t.s=0;break;case 2:return t.s=0,t.l=null,t.return(!1);case 3:return t.return(!0)}})}function Oe(t){if(this.h=t,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=t&&t.locateFile||wn,typeof window=="object")var e=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")e=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=e,t.options){e=P(Object.keys(t.options));for(var r=e.next();!r.done;r=e.next()){r=r.value;var n=t.options[r].default;n!==void 0&&(this.l[r]=typeof n=="function"?n():n)}}}j=Oe.prototype,j.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function xn(t){var e,r,n,i,u,o,s,l,h,v,E;return a(function(A){switch(A.h){case 1:return t.ga?(e=t.h.files===void 0?[]:typeof t.h.files=="function"?t.h.files(t.l):t.h.files,F(A,jn(),2)):A.return();case 2:if(r=A.i,typeof window=="object")return Pr("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Pr("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),o=e.filter(function(d){return d.data!==void 0}),s=e.filter(function(d){return d.data===void 0}),l=Promise.all(o.map(function(d){var O=te(t,d.url);if(d.path!==void 0){var T=d.path;O=O.then(function(I){return t.overrideFile(T,I),Promise.resolve(I)})}return O})),h=Promise.all(s.map(function(d){return d.simd===void 0||d.simd&&r||!d.simd&&!r?An(t.locateFile(d.url,t.ha)):Promise.resolve()})).then(function(){var d,O,T;return a(function(I){if(I.h==1)return d=window.createMediapipeSolutionsWasm,O=window.createMediapipeSolutionsPackedAssets,T=t,F(I,d(O),2);T.i=I.i,I.h=0})}),v=function(){return a(function(d){return t.h.graph&&t.h.graph.url?d=F(d,te(t,t.h.graph.url),0):(d.h=0,d=void 0),d})}(),F(A,Promise.all([h,l,v]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return n=e.filter(function(d){return d.simd===void 0||d.simd&&r||!d.simd&&!r}).map(function(d){return t.locateFile(d.url,t.ha)}),importScripts.apply(null,rt(n)),i=t,F(A,createMediapipeSolutionsWasm(Module),6);case 6:i.i=A.i,t.m=new OffscreenCanvas(1,1),t.i.canvas=t.m,u=t.i.GL.createContext(t.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),t.i.GL.makeContextCurrent(u),A.h=4;break;case 7:if(t.m=document.createElement("canvas"),E=t.m.getContext("webgl2",{}),!E&&(E=t.m.getContext("webgl",{}),!E))return alert("Failed to create WebGL canvas context when passing video frame."),A.return();t.K=E,t.i.canvas=t.m,t.i.createContext(t.m,!0,!0,{});case 4:t.j=new t.i.SolutionWasm,t.ga=!1,A.h=0}})}function bn(t){var e,r,n,i,u,o,s,l;return a(function(h){if(h.h==1){if(t.h.graph&&t.h.graph.url&&t.fa===t.h.graph.url)return h.return();if(t.u=!0,!t.h.graph||!t.h.graph.url){h.h=2;return}return t.fa=t.h.graph.url,F(h,te(t,t.h.graph.url),3)}for(h.h!=2&&(e=h.i,t.j.loadGraph(e)),r=P(Object.keys(t.D)),n=r.next();!n.done;n=r.next())i=n.value,t.j.overrideFile(i,t.D[i]);if(t.D={},t.h.listeners)for(u=P(t.h.listeners),o=u.next();!o.done;o=u.next())s=o.value,_n(t,s);l=t.l,t.l={},t.setOptions(l),h.h=0})}j.reset=function(){var t=this;return a(function(e){t.j&&(t.j.reset(),t.s={},t.v={}),e.h=0})},j.setOptions=function(t,e){var r=this;if(e=e||this.h.options){for(var n=[],i=[],u={},o=P(Object.keys(t)),s=o.next();!s.done;u={X:u.X,Y:u.Y},s=o.next())if(s=s.value,!(s in this.l&&this.l[s]===t[s])){this.l[s]=t[s];var l=e[s];l!==void 0&&(l.onChange&&(u.X=l.onChange,u.Y=t[s],n.push(function(h){return function(){var v;return a(function(E){if(E.h==1)return F(E,h.X(h.Y),2);v=E.i,v===!0&&(r.u=!0),E.h=0})}}(u))),l.graphOptionXref&&(s=Object.assign({},{calculatorName:"",calculatorIndex:0},l.graphOptionXref,{valueNumber:l.type===1?t[s]:0,valueBoolean:l.type===0?t[s]:!1,valueString:l.type===2?t[s]:""}),i.push(s)))}(n.length!==0||i.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(i),this.F=(this.F===void 0?[]:this.F).concat(n))}};function En(t){var e,r,n,i,u,o,s;return a(function(l){switch(l.h){case 1:if(!t.u)return l.return();if(!t.F){l.h=2;break}e=P(t.F),r=e.next();case 3:if(r.done){l.h=5;break}return n=r.value,F(l,n(),4);case 4:r=e.next(),l.h=3;break;case 5:t.F=void 0;case 2:if(t.H){for(i=new t.i.GraphOptionChangeRequestList,u=P(t.H),o=u.next();!o.done;o=u.next())s=o.value,i.push_back(s);t.j.changeOptions(i),i.delete(),t.H=void 0}t.u=!1,l.h=0}})}j.initialize=function(){var t=this;return a(function(e){return e.h==1?F(e,xn(t),2):e.h!=3?F(e,bn(t),3):F(e,En(t),0)})};function te(t,e){var r,n;return a(function(i){return e in t.L?i.return(t.L[e]):(r=t.locateFile(e,""),n=fetch(r).then(function(u){return u.arrayBuffer()}),t.L[e]=n,i.return(n))})}j.overrideFile=function(t,e){this.j?this.j.overrideFile(t,e):this.D[t]=e},j.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},j.send=function(t,e){var r=this,n,i,u,o,s,l,h,v,E;return a(function(A){switch(A.h){case 1:return r.h.inputs?(n=1e3*(e??performance.now()),F(A,r.I,2)):A.return();case 2:return F(A,r.initialize(),3);case 3:for(i=new r.i.PacketDataList,u=P(Object.keys(t)),o=u.next();!o.done;o=u.next())if(s=o.value,l=r.h.inputs[s]){t:{var d=t[s];switch(l.type){case"video":var O=r.s[l.stream];if(O||(O=new Ee(r.i,r.K),r.s[l.stream]=O),O.m===0&&(O.m=O.i.createTexture()),typeof HTMLVideoElement<"u"&&d instanceof HTMLVideoElement)var T=d.videoWidth,I=d.videoHeight;else typeof HTMLImageElement<"u"&&d instanceof HTMLImageElement?(T=d.naturalWidth,I=d.naturalHeight):(T=d.width,I=d.height);I={glName:O.m,width:T,height:I},T=O.h,T.canvas.width=I.width,T.canvas.height=I.height,T.activeTexture(T.TEXTURE0),O.i.bindTexture2d(O.m),T.texImage2D(T.TEXTURE_2D,0,T.RGBA,T.RGBA,T.UNSIGNED_BYTE,d),O.i.bindTexture2d(0),O=I;break t;case"detections":for(O=r.s[l.stream],O||(O=new mn(r.i),r.s[l.stream]=O),O.data||(O.data=new O.h.DetectionListData),O.data.reset(d.length),I=0;I<d.length;++I){T=d[I];var k=O.data,Y=k.setBoundingBox,it=I,tt=T.la,U=new qt;if(ct(U,1,tt.ra),ct(U,2,tt.sa),ct(U,3,tt.height),ct(U,4,tt.width),ct(U,5,tt.rotation),at(U,6,tt.pa),tt=U.l(),Y.call(k,it,tt),T.ea)for(k=0;k<T.ea.length;++k){U=T.ea[k],Y=O.data,it=Y.addNormalizedLandmark,tt=I,U=Object.assign({},U,{visibility:U.visibility?U.visibility:0});var $=new Ft;ct($,1,U.x),ct($,2,U.y),ct($,3,U.z),U.visibility&&ct($,4,U.visibility),U=$.l(),it.call(Y,tt,U)}if(T.ba)for(k=0;k<T.ba.length;++k)Y=O.data,it=Y.addClassification,tt=I,U=T.ba[k],$=new _t,ct($,2,U.score),U.index&&at($,1,U.index),U.label&&at($,3,U.label),U.displayName&&at($,4,U.displayName),U=$.l(),it.call(Y,tt,U)}O=O.data;break t;default:O={}}}switch(h=O,v=l.stream,l.type){case"video":i.pushTexture2d(Object.assign({},h,{stream:v,timestamp:n}));break;case"detections":E=h,E.stream=v,E.timestamp=n,i.pushDetectionList(E);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return r.j.send(i),F(A,r.I,4);case 4:i.delete(),A.h=0}})};function On(t,e,r){var n,i,u,o,s,l,h,v,E,A,d,O,T,I;return a(function(k){switch(k.h){case 1:if(!r)return k.return(e);for(n={},i=0,u=P(Object.keys(r)),o=u.next();!o.done;o=u.next())s=o.value,l=r[s],typeof l!="string"&&l.type==="texture"&&e[l.stream]!==void 0&&++i;1<i&&(t.M=!1),h=P(Object.keys(r)),o=h.next();case 2:if(o.done){k.h=4;break}if(v=o.value,E=r[v],typeof E=="string")return T=n,I=v,F(k,Sn(t,v,e[E]),14);if(A=e[E.stream],E.type==="detection_list"){if(A){for(var Y=A.getRectList(),it=A.getLandmarksList(),tt=A.getClassificationsList(),U=[],$=0;$<Y.size();++$){var gt=dn(Y.get($)),Fn=ht(gt,1),Tn=ht(gt,2),Cn=ht(gt,3),Pn=ht(gt,4),Mn=ht(gt,5,0),ee=void 0;ee=ee===void 0?0:ee,gt={la:{ra:Fn,sa:Tn,height:Cn,width:Pn,rotation:Mn,pa:Kt(ut(gt,6),ee)},ea:$t(Er(it.get($)),Ft,1).map(Fr),ba:_r(jr(tt.get($)))},U.push(gt)}Y=U}else Y=[];n[v]=Y,k.h=7;break}if(E.type==="proto_list"){if(A){for(Y=Array(A.size()),it=0;it<A.size();it++)Y[it]=A.get(it);A.delete()}else Y=[];n[v]=Y,k.h=7;break}if(A===void 0){k.h=3;break}if(E.type==="float_list"){n[v]=A,k.h=7;break}if(E.type==="proto"){n[v]=A,k.h=7;break}if(E.type!=="texture")throw Error("Unknown output config type: '"+E.type+"'");return d=t.v[v],d||(d=new Ee(t.i,t.K),t.v[v]=d),F(k,Cr(d,A,t.M),13);case 13:O=k.i,n[v]=O;case 7:E.transform&&n[v]&&(n[v]=E.transform(n[v])),k.h=3;break;case 14:T[I]=k.i;case 3:o=h.next(),k.h=2;break;case 4:return k.return(n)}})}function Sn(t,e,r){var n;return a(function(i){return typeof r=="number"||r instanceof Uint8Array||r instanceof t.i.Uint8BlobList?i.return(r):r instanceof t.i.Texture2dDataOut?(n=t.v[e],n||(n=new Ee(t.i,t.K),t.v[e]=n),i.return(Cr(n,r,t.M))):i.return(void 0)})}function _n(t,e){for(var r=e.name||"$",n=[].concat(rt(e.wants)),i=new t.i.StringList,u=P(e.wants),o=u.next();!o.done;o=u.next())i.push_back(o.value);u=t.i.PacketListener.implement({onResults:function(s){for(var l={},h=0;h<e.wants.length;++h)l[n[h]]=s.get(h);var v=t.listeners[r];v&&(t.I=On(t,l,e.outs).then(function(E){E=v(E);for(var A=0;A<e.wants.length;++A){var d=l[n[A]];typeof d=="object"&&d.hasOwnProperty&&d.hasOwnProperty("delete")&&d.delete()}E&&(t.I=E)}))}}),t.j.attachMultiListener(i,u),i.delete()}j.onResults=function(t,e){this.listeners[e||"$"]=t},z("Solution",Oe),z("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Mr(t){return t===void 0&&(t=0),t===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Ur(t){var e=this;t=t||{},this.h=new Oe({locateFile:t.locateFile,files:function(r){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Mr(r.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Tr},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Tr},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(r){return r.map(function(n){return _r(jr(n))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(r){var n,i,u;return a(function(o){return o.h==1?(n=Mr(r),i="third_party/mediapipe/modules/hand_landmark/"+n,F(o,te(e.h,n),2)):(u=o.i,e.h.overrideFile(i,u),o.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}j=Ur.prototype,j.close=function(){return this.h.close(),Promise.resolve()},j.onResults=function(t){this.h.onResults(t)},j.initialize=function(){var t=this;return a(function(e){return F(e,t.h.initialize(),0)})},j.reset=function(){this.h.reset()},j.send=function(t){var e=this;return a(function(r){return F(r,e.h.send(t),0)})},j.setOptions=function(t){this.h.setOptions(t)},z("Hands",Ur),z("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),z("VERSION","0.4.1675469240")}).call(Se)),Se}var kr=Un(),_e={},Lr;function Rn(){return Lr||(Lr=1,(function(){function j(f){var a=0;return function(){return a<f.length?{done:!1,value:f[a++]}:{done:!0}}}var L=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,a,_){return f==Array.prototype||f==Object.prototype||(f[a]=_.value),f};function H(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ct=="object"&&Ct];for(var a=0;a<f.length;++a){var _=f[a];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var C=H(this);function m(f,a){if(a)t:{var _=C;f=f.split(".");for(var x=0;x<f.length-1;x++){var N=f[x];if(!(N in _))break t;_=_[N]}f=f[f.length-1],x=_[f],a=a(x),a!=x&&a!=null&&L(_,f,{configurable:!0,writable:!0,value:a})}}m("Symbol",function(f){function a(z){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new _(x+(z||"")+"_"+N++,z)}function _(z,p){this.g=z,L(this,"description",{configurable:!0,writable:!0,value:p})}if(f)return f;_.prototype.toString=function(){return this.g};var x="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",N=0;return a}),m("Symbol.iterator",function(f){if(f)return f;f=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),_=0;_<a.length;_++){var x=C[a[_]];typeof x=="function"&&typeof x.prototype[f]!="function"&&L(x.prototype,f,{configurable:!0,writable:!0,value:function(){return S(j(this))}})}return f});function S(f){return f={next:f},f[Symbol.iterator]=function(){return this},f}function W(f){var a=typeof Symbol<"u"&&Symbol.iterator&&f[Symbol.iterator];return a?a.call(f):{next:j(f)}}function P(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function rt(f){if(f.i)throw new TypeError("Generator is already running");f.i=!0}P.prototype.l=function(f){this.o=f};function Q(f,a){f.h={F:a,G:!0},f.j=f.m}P.prototype.return=function(f){this.h={return:f},this.j=this.m};function pt(f){this.g=new P,this.h=f}function vt(f,a){rt(f.g);var _=f.g.g;return _?X(f,"return"in _?_.return:function(x){return{value:x,done:!0}},a,f.g.return):(f.g.return(a),lt(f))}function X(f,a,_,x){try{var N=a.call(f.g.g,_);if(!(N instanceof Object))throw new TypeError("Iterator result "+N+" is not an object");if(!N.done)return f.g.i=!1,N;var z=N.value}catch(p){return f.g.g=null,Q(f.g,p),lt(f)}return f.g.g=null,x.call(f.g,z),lt(f)}function lt(f){for(;f.g.j;)try{var a=f.h(f.g);if(a)return f.g.i=!1,{value:a.value,done:!1}}catch(_){f.g.o=void 0,Q(f.g,_)}if(f.g.i=!1,f.g.h){if(a=f.g.h,f.g.h=null,a.G)throw a.F;return{value:a.return,done:!0}}return{value:void 0,done:!0}}function c(f){this.next=function(a){return rt(f.g),f.g.g?a=X(f,f.g.g.next,a,f.g.l):(f.g.l(a),a=lt(f)),a},this.throw=function(a){return rt(f.g),f.g.g?a=X(f,f.g.g.throw,a,f.g.l):(Q(f.g,a),a=lt(f)),a},this.return=function(a){return vt(f,a)},this[Symbol.iterator]=function(){return this}}function g(f){function a(x){return f.next(x)}function _(x){return f.throw(x)}return new Promise(function(x,N){function z(p){p.done?x(p.value):Promise.resolve(p.value).then(a,_).then(z,N)}z(f.next())})}m("Promise",function(f){function a(p){this.h=0,this.i=void 0,this.g=[],this.o=!1;var b=this.j();try{p(b.resolve,b.reject)}catch(M){b.reject(M)}}function _(){this.g=null}function x(p){return p instanceof a?p:new a(function(b){b(p)})}if(f)return f;_.prototype.h=function(p){if(this.g==null){this.g=[];var b=this;this.i(function(){b.l()})}this.g.push(p)};var N=C.setTimeout;_.prototype.i=function(p){N(p,0)},_.prototype.l=function(){for(;this.g&&this.g.length;){var p=this.g;this.g=[];for(var b=0;b<p.length;++b){var M=p[b];p[b]=null;try{M()}catch(B){this.j(B)}}}this.g=null},_.prototype.j=function(p){this.i(function(){throw p})},a.prototype.j=function(){function p(B){return function(et){M||(M=!0,B.call(b,et))}}var b=this,M=!1;return{resolve:p(this.A),reject:p(this.l)}},a.prototype.A=function(p){if(p===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(p instanceof a)this.C(p);else{t:switch(typeof p){case"object":var b=p!=null;break t;case"function":b=!0;break t;default:b=!1}b?this.v(p):this.m(p)}},a.prototype.v=function(p){var b=void 0;try{b=p.then}catch(M){this.l(M);return}typeof b=="function"?this.D(b,p):this.m(p)},a.prototype.l=function(p){this.u(2,p)},a.prototype.m=function(p){this.u(1,p)},a.prototype.u=function(p,b){if(this.h!=0)throw Error("Cannot settle("+p+", "+b+"): Promise already settled in state"+this.h);this.h=p,this.i=b,this.h===2&&this.B(),this.H()},a.prototype.B=function(){var p=this;N(function(){if(p.I()){var b=C.console;typeof b<"u"&&b.error(p.i)}},1)},a.prototype.I=function(){if(this.o)return!1;var p=C.CustomEvent,b=C.Event,M=C.dispatchEvent;return typeof M>"u"?!0:(typeof p=="function"?p=new p("unhandledrejection",{cancelable:!0}):typeof b=="function"?p=new b("unhandledrejection",{cancelable:!0}):(p=C.document.createEvent("CustomEvent"),p.initCustomEvent("unhandledrejection",!1,!0,p)),p.promise=this,p.reason=this.i,M(p))},a.prototype.H=function(){if(this.g!=null){for(var p=0;p<this.g.length;++p)z.h(this.g[p]);this.g=null}};var z=new _;return a.prototype.C=function(p){var b=this.j();p.s(b.resolve,b.reject)},a.prototype.D=function(p,b){var M=this.j();try{p.call(b,M.resolve,M.reject)}catch(B){M.reject(B)}},a.prototype.then=function(p,b){function M(nt,ot){return typeof nt=="function"?function(Et){try{B(nt(Et))}catch(Ot){et(Ot)}}:ot}var B,et,Pt=new a(function(nt,ot){B=nt,et=ot});return this.s(M(p,B),M(b,et)),Pt},a.prototype.catch=function(p){return this.then(void 0,p)},a.prototype.s=function(p,b){function M(){switch(B.h){case 1:p(B.i);break;case 2:b(B.i);break;default:throw Error("Unexpected state: "+B.h)}}var B=this;this.g==null?z.h(M):this.g.push(M),this.o=!0},a.resolve=x,a.reject=function(p){return new a(function(b,M){M(p)})},a.race=function(p){return new a(function(b,M){for(var B=W(p),et=B.next();!et.done;et=B.next())x(et.value).s(b,M)})},a.all=function(p){var b=W(p),M=b.next();return M.done?x([]):new a(function(B,et){function Pt(Et){return function(Ot){nt[Et]=Ot,ot--,ot==0&&B(nt)}}var nt=[],ot=0;do nt.push(void 0),ot++,x(M.value).s(Pt(nt.length-1),et),M=b.next();while(!M.done)})},a});var y=typeof Object.assign=="function"?Object.assign:function(f,a){for(var _=1;_<arguments.length;_++){var x=arguments[_];if(x)for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&(f[N]=x[N])}return f};m("Object.assign",function(f){return f||y});var w=this||self,R={facingMode:"user",width:640,height:480};function D(f,a){this.video=f,this.i=0,this.h=Object.assign(Object.assign({},R),a)}D.prototype.stop=function(){var f=this,a,_,x,N;return g(new c(new pt(function(z){if(f.g){for(a=f.g.getTracks(),_=W(a),x=_.next();!x.done;x=_.next())N=x.value,N.stop();f.g=void 0}z.j=0})))},D.prototype.start=function(){var f=this,a;return g(new c(new pt(function(_){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),a=f.h,_.return(navigator.mediaDevices.getUserMedia({video:{facingMode:a.facingMode,width:a.width,height:a.height}}).then(function(x){J(f,x)}).catch(function(x){var N="Failed to acquire camera feed: "+x;throw console.error(N),alert(N),x}))})))};function F(f){window.requestAnimationFrame(function(){ie(f)})}function J(f,a){f.g=a,f.video.srcObject=a,f.video.onloadedmetadata=function(){f.video.play(),F(f)}}function ie(f){var a=null;f.video.paused||f.video.currentTime===f.i||(f.i=f.video.currentTime,a=f.h.onFrame()),a?a.then(function(){F(f)}):F(f)}var dt=["Camera"],K=w;dt[0]in K||typeof K.execScript>"u"||K.execScript("var "+dt[0]);for(var yt;dt.length&&(yt=dt.shift());)dt.length||D===void 0?K[yt]&&K[yt]!==Object.prototype[yt]?K=K[yt]:K=K[yt]={}:K[yt]=D}).call(_e)),_e}var Ln=Rn(),Fe={},Nr;function Nn(){return Nr||(Nr=1,(function(){function j(c){var g=0;return function(){return g<c.length?{done:!1,value:c[g++]}:{done:!0}}}var L=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function H(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ct=="object"&&Ct];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var C=H(this);function m(c,g){if(g)t:{var y=C;c=c.split(".");for(var w=0;w<c.length-1;w++){var R=c[w];if(!(R in y))break t;y=y[R]}c=c[c.length-1],w=y[c],g=g(w),g!=w&&g!=null&&L(y,c,{configurable:!0,writable:!0,value:g})}}function S(c){var g=typeof Symbol<"u"&&Symbol.iterator&&c[Symbol.iterator];return g?g.call(c):{next:j(c)}}var W=typeof Object.assign=="function"?Object.assign:function(c,g){for(var y=1;y<arguments.length;y++){var w=arguments[y];if(w)for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&(c[R]=w[R])}return c};m("Object.assign",function(c){return c||W}),m("Array.prototype.fill",function(c){return c||function(g,y,w){var R=this.length||0;for(0>y&&(y=Math.max(0,R+y)),(w==null||w>R)&&(w=R),w=Number(w),0>w&&(w=Math.max(0,R+w)),y=Number(y||0);y<w;y++)this[y]=g;return this}});function P(c){return c||Array.prototype.fill}m("Int8Array.prototype.fill",P),m("Uint8Array.prototype.fill",P),m("Uint8ClampedArray.prototype.fill",P),m("Int16Array.prototype.fill",P),m("Uint16Array.prototype.fill",P),m("Int32Array.prototype.fill",P),m("Uint32Array.prototype.fill",P),m("Float32Array.prototype.fill",P),m("Float64Array.prototype.fill",P);var rt=this||self;function Q(c,g){c=c.split(".");var y=rt;c[0]in y||typeof y.execScript>"u"||y.execScript("var "+c[0]);for(var w;c.length&&(w=c.shift());)c.length||g===void 0?y[w]&&y[w]!==Object.prototype[w]?y=y[w]:y=y[w]={}:y[w]=g}var pt={color:"white",lineWidth:4,radius:6,visibilityMin:.5};function vt(c){return c=c||{},Object.assign({},pt,{fillColor:c.color},c)}function X(c,g){return c instanceof Function?c(g):c}function lt(c,g,y){return Math.max(Math.min(g,y),Math.min(Math.max(g,y),c))}Q("clamp",lt),Q("drawLandmarks",function(c,g,y){if(g){y=vt(y),c.save();var w=c.canvas,R=0;g=S(g);for(var D=g.next();!D.done;D=g.next())if(D=D.value,D!==void 0&&(D.visibility===void 0||D.visibility>y.visibilityMin)){c.fillStyle=X(y.fillColor,{index:R,from:D}),c.strokeStyle=X(y.color,{index:R,from:D}),c.lineWidth=X(y.lineWidth,{index:R,from:D});var F=new Path2D;F.arc(D.x*w.width,D.y*w.height,X(y.radius,{index:R,from:D}),0,2*Math.PI),c.fill(F),c.stroke(F),++R}c.restore()}}),Q("drawConnectors",function(c,g,y,w){if(g&&y){w=vt(w),c.save();var R=c.canvas,D=0;y=S(y);for(var F=y.next();!F.done;F=y.next()){var J=F.value;c.beginPath(),F=g[J[0]],J=g[J[1]],F&&J&&(F.visibility===void 0||F.visibility>w.visibilityMin)&&(J.visibility===void 0||J.visibility>w.visibilityMin)&&(c.strokeStyle=X(w.color,{index:D,from:F,to:J}),c.lineWidth=X(w.lineWidth,{index:D,from:F,to:J}),c.moveTo(F.x*R.width,F.y*R.height),c.lineTo(J.x*R.width,J.y*R.height)),++D,c.stroke()}c.restore()}}),Q("drawRectangle",function(c,g,y){y=vt(y),c.save();var w=c.canvas;c.beginPath(),c.lineWidth=X(y.lineWidth,{}),c.strokeStyle=X(y.color,{}),c.fillStyle=X(y.fillColor,{}),c.translate(g.xCenter*w.width,g.yCenter*w.height),c.rotate(g.rotation*Math.PI/180),c.rect(-g.width/2*w.width,-g.height/2*w.height,g.width*w.width,g.height*w.height),c.translate(-g.xCenter*w.width,-g.yCenter*w.height),c.stroke(),c.fill(),c.restore()}),Q("lerp",function(c,g,y,w,R){return lt(w*(1-(c-g)/(y-g))+R*(1-(y-c)/(y-g)),w,R)})}).call(Fe)),Fe}var Dr=Nn();const Ht=document.getElementById("input_video"),Ce=document.getElementById("hand_canvas"),Te=Ce.getContext("2d"),Dn=document.getElementById("start-webcam"),Br=document.getElementById("toggle-video"),Ir=document.getElementById("add-to-training-data-button"),Hr=document.getElementById("train-button"),kn=document.getElementById("detect-button"),Bn=document.getElementById("save-button"),In=document.getElementById("test-button"),re=document.getElementById("gestures");let Tt=[],It={},Wt;ml5.setBackend("webgl");const bt=ml5.neuralNetwork({task:"classification",debug:!0,layers:[{type:"dense",units:128,activation:"relu",inputShape:[63]},{type:"dense",units:64,activation:"relu"},{type:"dense",units:32,activation:"relu"},{type:"dense",units:5,activation:"softmax"}]}),Hn=new Ln.Camera(Ht,{onFrame:async()=>{await Pe.send({image:Ht})},width:640,height:480});Dn.addEventListener("click",()=>{Yn()});Br.addEventListener("click",()=>{Ht.style.display==="block"?Ht.style.display="none":Ht.style.display="block"});In.addEventListener("click",()=>{Xn()});Ir.addEventListener("click",()=>{Hr.disabled=!1,console.log("adding data:",`${re.value}`),console.log(ne());const j=re.value,L=ne();It[j]||(It[j]=[]),It[j].push(L),console.log("trainingsData object:",It),bt.addData(ne(),{label:`${re.value}`})});function Wn(j,L=.8){const H={},C={};for(const m in j)if(j.hasOwnProperty(m)){const W=[...j[m]].sort(()=>Math.random()-.5),P=Math.floor(W.length*L);H[m]=W.slice(0,P),C[m]=W.slice(P)}return{trainData:H,testData:C}}Hr.addEventListener("click",()=>{Gn()});kn.addEventListener("click",()=>{zn()});Bn.addEventListener("click",()=>{Vn()});async function Gn(){let j=Wn(It);Wt=j.testData,console.log(Wt),await $n(j.trainData),await bt.normalizeData(),bt.train({epochs:50},()=>alert("Done!"))}async function zn(){const j=await bt.classify(ne());console.log(j)}async function Vn(){bt.save("model",()=>console.log("model was saved!"))}async function Xn(){const j=[],L=[];for(const C in Wt)if(Wt.hasOwnProperty(C)){const m=Wt[C];for(let S=0;S<m.length;S++){const W=m[S],rt=(await bt.classify(W)).reduce((Q,pt)=>pt.confidence>Q.confidence?pt:Q).label;j.push(C),L.push(rt),console.log(rt===C?` Correct: ${C}`:` Incorrect: predicted ${rt}, expected ${C}`)}}const H=[...new Set([...j,...L])];Zn(j,L,H)}async function Yn(){await Hn.start(),Br.disabled=!1,Ir.disabled=!1,re.disabled=!1}const Pe=new kr.Hands({locateFile:j=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${j}`});Pe.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5});function ne(){const j=[];if(Tt[0].length>0){const L=Tt[0][0];for(let H=0;H<Tt[0].length;H++){const C=Tt[0][H],m=C.x-L.x,S=C.y-L.y,W=C.z-L.z;j.push(m,S,W)}return j}return null}async function $n(j){for(const L in j)if(j.hasOwnProperty(L)){const H=j[L];for(let C=0;C<H.length;C++){const m=H[C];bt.addData(m,{label:`${L}`})}}}function Kn(){Te.clearRect(0,0,Ce.width,Ce.height);for(const j of Tt)Dr.drawConnectors(Te,j,kr.HAND_CONNECTIONS,{color:"blue",lineWidth:2}),Dr.drawLandmarks(Te,j,{color:"green",lineWidth:1})}Pe.onResults(j=>{Tt=j.multiHandLandmarks||[],Kn()});function Zn(j,L,H){const C={};H.forEach(m=>{C[m]={},H.forEach(S=>{C[m][S]=0})});for(let m=0;m<j.length;m++){const S=j[m],W=L[m];C[S][W]++}console.table(C)}
